<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="sqlmap_fh_leave_model">
  <resultMap id="leaveMap" type="net.chetong.order.model.FhLeaveModelVO" >
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="insert_time" property="insertTime" jdbcType="VARCHAR" />
    <result column="detail" property="detail" jdbcType="VARCHAR" />
    <result column="reserved" property="reserved" jdbcType="VARCHAR" />
  </resultMap>
  
  <sql id="Leave_Column_List" >
    id, name, insert_time, detail, reserved
  </sql>
  
  <!-- 根据订单号查询留言 -->
   <select id="queryLeaveMessageByOrderNo" parameterType="java.lang.String" resultMap="leaveMap">
       select 
		<include refid="Leave_Column_List" />
	 from fh_leave_model where reserved=#{orderNo} order by id
   </select>
  
   <!-- 查询留言根据订单号集合 -->
    <select id="queryLeaveMessageByOrderNos" parameterType="java.util.List" resultMap="leaveMap">
        select 
			id as id,
			name as name,
			insert_time as insertTime,
			detail as detail,
			reserved as reserved
        from fh_leave_model where reserved in
          <foreach collection="list" item="orderCode" open="(" separator="," close=")">
              #{orderCode}
          </foreach>
    </select>
	
</mapper>